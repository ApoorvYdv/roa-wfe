@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700&display=swap");
@import "./styles/mixins";
@import "./styles/colors";
@import "./styles/variables";
@import "./styles/layout";
@import "./styles/utils/topinputbar";
@import "./styles/actionregister/actionregister";
@import "./styles/actionregister/casesummary";
@import "./styles/actionregister/modificationtimeline";
@import "./styles/actionregister/modificationcard";

body {
  margin: 0;
  padding: 0;
  background: $light-color;
}

*,
:after,
:before {
  box-sizing: border-box;
}

.App {
  min-height: 100vh;
}

::-webkit-scrollbar {
  width: 5px;

  // background-color: red;
}

::-webkit-scrollbar-track {
  -webkit-box-shadow: inset 0 0 6px #d9d9d9;
  border-radius: 10px;
}

::-webkit-scrollbar-thumb {
  border-radius: 10px;
  -webkit-box-shadow: inset 0 0 6px #9e9e9e;
}

.range-picker {
  min-width: 250px;
  width: auto;
  // height: 40px;
  border-radius: 8px;
  .ant-picker-input > input {
    @include font-props(500, 14px, $dark-color);
  }
}

.MuiMenuItem-root {
  min-height: 36px;
}

.date-range-section {
  @include layout(row, space-between);
  align-items: center;
  height: 100%;
  .page-heading {
    @include font-props(600, $font-size-1, $secondary-color);
  }
  .date-range {
    @include layout(row);
    // align-items: center;
    gap: 10px;
    height: 100%;
    .update-button {
      text-transform: none;
      height: 40px;
      background-color: $tertiary-color;
      @include font-props(400, $font-size-6, $light-color);
    }
  }
}

.autocomplete-mui {
  flex: 1 1 200px;
  .MuiInputBase-root {
    position: relative;
    width: 100%;
    height: 2.5rem;
    border-radius: 0.375rem;
    border: 1px solid rgb(226, 232, 240);
    background-color: white;
    font-size: $font-size-5;
    padding: 0;
    transition: border-color 0.15s ease;

    &:hover {
      border-color: rgb(203, 213, 225);
    }

    &.Mui-focused {
      border-color: rgb(203, 213, 225);
      outline: 2px solid rgb(148, 163, 184);
      outline-offset: 2px;
    }

    &:disabled {
      cursor: not-allowed;
      opacity: 0.5;
    }
    
    &.Mui-error {
      border-color: #d32f2f;
      
      &:hover {
        border-color: #c62828;
      }
      
      &.Mui-focused {
        border-color: #d32f2f;
        outline: 2px solid rgba(211, 47, 47, 0.25);
      }
    }
  }

  .MuiOutlinedInput-notchedOutline {
    border: none;
  }

  .MuiChip-root {
    height: 1.5rem;
    border-radius: 0.25rem;
    background-color: rgb(241, 245, 249);
    color: rgb(15, 23, 42);
    font-size: 0.75rem;
    font-weight: 500;
    padding: 0 0.25rem;

    &:hover {
      background-color: rgb(226, 232, 240);
    }

    .MuiChip-label {
      padding: 0 0.5rem;
    }

    .MuiChip-deleteIcon {
      font-size: 1rem;
      color: rgb(100, 116, 139);
      margin: 0 0.125rem;
      padding: 0.125rem;

      &:hover {
        color: rgb(15, 23, 42);
      }
    }
  }

  .MuiAutocomplete-input {
    padding: 0.5rem 0.75rem !important;
    height: 2.5rem !important;
    font-size: $font-size-5;
    line-height: 1.25rem;
  }

  .MuiAutocomplete-endAdornment {
    right: 0.5rem;
  }

  .MuiAutocomplete-clearIndicator {
    color: rgb(100, 116, 139);
    padding: 0.25rem;
    margin-right: -0.25rem;
    border-radius: 0.25rem;

    &:hover {
      background-color: rgb(241, 245, 249);
      color: rgb(15, 23, 42);
    }
  }

  .MuiAutocomplete-popupIndicator {
    color: rgb(100, 116, 139);
    padding: 0.25rem;
    margin-right: -0.25rem;
    border-radius: 0.25rem;

    &:hover {
      background-color: rgb(241, 245, 249);
      color: rgb(15, 23, 42);
    }
  }

  .MuiAutocomplete-paper {
    position: relative;
    margin-top: 0.5rem;
    max-height: 300px;
    min-width: 8rem;
    overflow: hidden;
    border-radius: 0.375rem;
    border: 1px solid rgb(226, 232, 240);
    background-color: white;
    color: rgb(15, 23, 42);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  }

  .MuiAutocomplete-listbox {
    padding: 0.25rem;

    .MuiAutocomplete-option {
      position: relative;
      display: flex;
      width: 100%;
      cursor: default;
      user-select: none;
      align-items: center;
      border-radius: 0.125rem;
      padding: 0.375rem 0.5rem;
      font-size: $font-size-5;
      outline: none;
      min-height: 40px;

      &[aria-selected="true"] {
        background-color: rgb(241, 245, 249);
        color: rgb(15, 23, 42);
      }

      &.Mui-focused {
        background-color: rgb(241, 245, 249);
        color: rgb(15, 23, 42);
      }

      &:active {
        background-color: rgb(241, 245, 249);
        color: rgb(15, 23, 42);
      }
    }
  }

  .MuiAutocomplete-clearIndicator {
    color: rgb(100, 116, 139);
    padding: 0.25rem;
    margin-right: -0.25rem;
    border-radius: 0.25rem;

    &:hover {
      background-color: rgb(241, 245, 249);
      color: rgb(15, 23, 42);
    }
  }

  .MuiAutocomplete-noOptions {
    padding: 0.5rem;
    font-size: $font-size-5;
    color: rgb(100, 116, 139);
  }

  .MuiFormLabel-root {
    font-size: $font-size-5;
    color: rgb(100, 116, 139);
    transform: translate(14px, 12px) scale(1);
    
    &.Mui-error {
      color: #d32f2f;
    }
  }
  
  .MuiFormHelperText-root {
    margin: 0.25rem 0 0;
    font-size: 0.75rem;
    
    &.Mui-error {
      color: #d32f2f;
    }
  }
  
  .error-message {
    color: #d32f2f;
    font-size: 0.75rem;
    margin-top: 0.25rem;
    display: flex;
    align-items: center;
    
    .error-icon {
      margin-right: 0.25rem;
      font-size: 1rem;
    }
  }
}

.textfield-mui {
  // flex: 1 1 200px;
  .MuiInputBase-root {
    font-size: $font-size-5;
  }
  .MuiOutlinedInput-root {
    background-color: $light-color;
    border: 1px solid rgb(226, 232, 240);
    border-radius: 0.375rem;
    transition: border-color 0.15s ease;

    // Normal state
    .MuiOutlinedInput-notchedOutline {
      border-color: $primary-color;
    }

    // Error state
    &.Mui-error .MuiOutlinedInput-notchedOutline {
      border-color: #d32f2f; // MUI default error color
    }

    // Focused state
    &.Mui-focused .MuiOutlinedInput-notchedOutline {
      border-color: rgb(148, 163, 184);
    }

    // Focused with error
    &.Mui-focused.Mui-error .MuiOutlinedInput-notchedOutline {
      border-color: #d32f2f;
    }

    // Input text color when focused
    &.Mui-focused .MuiOutlinedInput-input {
      color: $secondary-color;
      background-color: $light-color;
    }
  }

  &:hover .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline {
    border-color: rgb(203, 213, 225);
  }

  // Label color when focused
  .MuiInputLabel-outlined {
    &.Mui-focused {
      color: $primary-blue;
    }

    &.Mui-error {
      color: #d32f2f;
    }
  }

  .MuiFormLabel-root {
    position: absolute;
    // background: white;
    font-size: $font-size-5;
    color: rgb(100, 116, 139);
    padding: 0 0.25rem;
    font-size: 1rem;

    z-index: 1;

    &.Mui-focused {
      color: $primary-blue;
      background: $primary-color;

      // font-family: "Poppins";
    }
  }
}

.select-mui {
  flex: 1 1 200px;
  .MuiInputBase-root {
    position: relative;
    width: 100%;
    height: 2.5rem;
    border-radius: 0.375rem;
    border: 1px solid rgb(226, 232, 240);
    background-color: white;
    font-size: $font-size-5;
    padding: 1;
    transition: border-color 0.15s ease;

    &:hover {
      border-color: rgb(203, 213, 225);
    }

    &.Mui-focused {
      border-color: rgb(203, 213, 225);
      outline: 2px solid rgb(148, 163, 184);
      outline-offset: 2px;
    }
    &.Mui-error {
      color: #d32f2f;
      border-color: #d32f2f;
    }

    &.Mui-focused.Mui-error {
      border-color: #d32f2f;
      outline-color: rgba(211, 47, 47, 0.5);
    }

    &:disabled {
      cursor: not-allowed;
      opacity: 0.5;
    }
  }

  .MuiFormLabel-root {
    position: absolute;
    // background: white;
    font-size: $font-size-5;
    color: rgb(100, 116, 139);
    padding: 0 0.25rem;
    font-size: 1rem;

    z-index: 1;

    &.Mui-focused {
      color: $primary-blue;
      background: $primary-color;
      top: -0.2rem;
      // font-family: "Poppins";
      font-weight: 400;
      font-size: 1rem;
      line-height: 1.4375em;
      letter-spacing: 0.00938em;
      padding: 0;
    }
    &.Mui-error {
      color: #d32f2f;
    }
  }

  .MuiOutlinedInput-notchedOutline {
    border: none;
  }
}

// .toggle-group {
//   @include layout(row, flex-start);
//   background-color: #f6f6f6;
//   padding: 4px;
//   border-radius: 8px;

//   &__button {
//     font-family: "Poppins";
//     padding: 6px 20px;
//     border: none;
//     background: none;
//     font-size: 16px;
//     color: #666;
//     cursor: pointer;
//     border-radius: 6px;
//     transition: all 0.2s ease;
//     position: relative;
//     font-weight: 400;
//     &--active {
//       background-color: #ffffff;
//       color: #000000;
//       box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
//     }
//     &:hover:not(&--active) {
//       background-color: rgba(0, 0, 0, 0.03);
//     }
//   }
// }

.toggle-group {
  @include layout(row, flex-start);
  background-color: #f6f6f6;
  padding: 4px;
  border-radius: 8px;
  width: 100%;
  // min-width: 240px;
  &__button {
    font-family: "Poppins";
    width: 50%;
    padding: 6px 20px;
    border: none;
    background: none;
    white-space: nowrap;
    font-size: 16px;
    color: #666;
    cursor: pointer;
    border-radius: 6px;
    transition: all 0.2s ease;
    position: relative;
    font-weight: 500;
    &--active {
      background-color: #ffffff;
      color: #000000;
      background-color: rgb(226, 232, 240); /* Slightly darker light blue-gray */
      color: $secondary-color; /* Nearly black text for contrast */
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }
    &:hover:not(&--active) {
      background-color: rgba(0, 0, 0, 0.03);
    }
  }
}

.option-capitalize {
  width: 100%;
  text-transform: capitalize;
}

.signature-capture {
  width: 100%;
  @include layout(column);

  align-items: center;
  .signature-controls {
    width: 100%;
    @include layout(row, space-between);
    align-items: center;
    .btn-grp {
      @include layout(row, space-between);
    }

    .placeholder-header {
      padding-left: 10px;
      @include font-props(500, $font-size-4, $secondary-color);
    }
  }
}

.signatureCanvas {
  border: 1px solid black;
  width: 100%;
  min-height: 200px;
}

.color-picker {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 16px;

  &__button {
    position: relative;
    width: 18px;
    height: 18px;
    border-radius: 50%;
    border: none;
    padding: 0;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.2s ease-in-out;

    &:hover {
      transform: scale(1.1);
    }

    &--selected {
      transform: scale(1.5);
    }

    // svg {
    //   color: white;
    //   width: 14px;
    //   height: 14px;
    //   stroke-width: 3;
    // }
  }

  // Color variants
  &__button--black {
    background-color: #1a1a1a;
  }

  &__button--red {
    background-color: #ef4444;
  }

  &__button--blue {
    background-color: #3b82f6;
  }
}

.main-container {
  @include layout(row, flex-start);
  gap: 3px;
  flex-wrap: none;
  width: 100%;
}